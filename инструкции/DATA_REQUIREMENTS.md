# Требования к объему данных для обучения нейронной сети

## Минимальные требования

### Абсолютный минимум (для тестирования концепции)
- **100-200 примеров на класс** (всего 300-600 примеров)
- **Классы**: нет паттерна (0), бычий флаг (1), медвежий флаг (2)
- **Ожидаемая точность**: 60-70%
- **Использование**: только для проверки работоспособности архитектуры

### Рекомендуемый минимум (для базовой работы)
- **300-500 примеров на класс** (всего 900-1500 примеров)
- **Ожидаемая точность**: 70-80%
- **Использование**: для валидации и первых экспериментов

### Хороший результат (для продакшена)
- **500-1000 примеров на класс** (всего 1500-3000 примеров)
- **Ожидаемая точность**: 80-90%
- **Использование**: готово для использования в реальной торговле

### Отличный результат (высокая надежность)
- **1000+ примеров на класс** (всего 3000+ примеров)
- **Ожидаемая точность**: 90-95%+
- **Использование**: максимальная надежность распознавания

## Распределение данных

Рекомендуемое распределение:
- **Train (обучение)**: 70-80% данных
- **Validation (валидация)**: 10-15% данных
- **Test (тестирование)**: 10-15% данных

Пример для минимума 900 примеров:
- Train: 630-720 примеров
- Validation: 90-135 примеров
- Test: 90-135 примеров

## Балансировка классов

Желательно иметь примерно равное количество примеров для каждого класса:
- Класс 0 (нет паттерна): ~33%
- Класс 1 (бычий флаг): ~33%
- Класс 2 (медвежий флаг): ~33%

Если один класс значительно преобладает, модель может быть смещена.

## Аугментация данных

Аугментация может **уменьшить необходимое количество данных на 30-50%**:
- Поворот графика (±5-10 градусов)
- Масштабирование (0.9-1.1x)
- Горизонтальное отражение (для медвежьего/бычьего)
- Добавление небольшого шума

**С аугментацией минимальный набор**: 150-200 примеров на класс (всего 450-600)

## Практический план развития

### Этап 1: Базовый набор (200-300 примеров)
- Цель: проверить работоспособность архитектуры
- Ожидаемая точность: 60-70%
- Время на разметку: 2-3 часа

### Этап 2: Расширенный набор (500-700 примеров)
- Цель: получить рабочую модель
- Ожидаемая точность: 70-80%
- Время на разметку: 5-7 часов

### Этап 3: Продакшен набор (1000+ примеров)
- Цель: высокая точность
- Ожидаемая точность: 80-90%
- Время на разметку: 10-15 часов

### Этап 4: Непрерывное улучшение
- Постоянно добавлять новые примеры
- Особенно важны проблемные случаи (ложные срабатывания)
- Дообучение модели на новых данных

## Текущее состояние проекта

Проверить текущее количество данных:
```bash
cd complex_flag_scanner
wc -l neural_network/data/annotations.csv
ls neural_network/data/candles/ | wc -l
```

## Рекомендации

1. **Начните с минимума** (200-300 примеров) для проверки концепции
2. **Используйте аугментацию** для увеличения эффективности данных
3. **Постепенно добавляйте данные** по мере необходимости
4. **Фокусируйтесь на проблемных случаях** (ложные срабатывания)
5. **Валидируйте на реальных данных** не из обучающей выборки
6. **Используйте комбинированный подход**: математический сканер + нейросеть для валидации

## Связь с математическим сканером

Математический сканер может помочь:
- **Автоматически находить кандидаты** для разметки
- **Предварительно фильтровать** паттерны
- **Использоваться в production**, а нейросеть - для дополнительной валидации

Это позволяет начать использовать систему раньше, постепенно улучшая нейросеть.

