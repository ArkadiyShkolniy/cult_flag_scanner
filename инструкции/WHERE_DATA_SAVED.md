# üìÅ –ö—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Ä–∞–∑–º–µ—Ç–∫–∏

## –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

–ü–æ—Å–ª–µ —Ä–∞–∑–º–µ—Ç–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —á–µ—Ä–µ–∑ –¥–∞—à–±–æ—Ä–¥, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```
complex_flag_scanner/
‚îî‚îÄ‚îÄ neural_network/
    ‚îî‚îÄ‚îÄ data/                          # üìÇ –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–∞–Ω–Ω—ã—Ö
        ‚îú‚îÄ‚îÄ candles/                   # üìÇ CSV —Ñ–∞–π–ª—ã —Å–æ —Å–≤–µ—á–∞–º–∏
        ‚îÇ   ‚îú‚îÄ‚îÄ VKCO_1h_20241226_120000.csv
        ‚îÇ   ‚îú‚îÄ‚îÄ SBER_1h_20241226_130000.csv
        ‚îÇ   ‚îî‚îÄ‚îÄ ...
        ‚îî‚îÄ‚îÄ annotations.csv            # üìÑ –§–∞–π–ª —Å –º–µ—Ç–∫–∞–º–∏ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
```

## –ü—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å**: `/Users/arkadiyshkolniy/Documents/cult_trade/invest-python-main/complex_flag_scanner/neural_network/data/`
- **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å**: `complex_flag_scanner/neural_network/data/`

## –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### 1. CSV —Ñ–∞–π–ª—ã —Å–æ —Å–≤–µ—á–∞–º–∏ (`candles/`)

–ö–∞–∂–¥—ã–π —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π CSV —Ñ–∞–π–ª:
- **–ò–º—è —Ñ–∞–π–ª–∞**: `{ticker}_{timeframe}_{timestamp}.csv`
- **–ü—Ä–∏–º–µ—Ä**: `VKCO_1h_20241226_120000.csv`
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**: –î–∞–Ω–Ω—ã–µ —Å–≤–µ—á–µ–π (time, open, high, low, close, volume)

### 2. –§–∞–π–ª –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (`annotations.csv`)

–°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –≤—Å–µ—Ö —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö:
- –ü—É—Ç—å –∫ CSV —Ñ–∞–π–ª—É
- –ú–µ—Ç–∫–∞ –∫–ª–∞—Å—Å–∞ (0=–Ω–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞, 1=–±—ã—á–∏–π, 2=–º–µ–¥–≤–µ–∂–∏–π)
- –¢–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- –¢–∞–π–º—Ñ—Ä–µ–π–º
- –¢–∏–ø –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏
- –ó–∞–º–µ—Ç–∫–∏

## –ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ annotations.csv

```csv
file,label,ticker,timeframe,pattern_type,timestamp,notes
candles/VKCO_1h_20241226_120000.csv,1,VKCO,1h,FLAG_0_1_2_3_4,2024-12-26T12:00:00,–†–∞–∑–º–µ—á–µ–Ω–æ –≤—Ä—É—á–Ω—É—é. –¢–∏–ø: bullish
candles/SBER_1h_20241226_130000.csv,2,SBER,1h,BEARISH_FLAG_0_1_2_3_4,2024-12-26T13:00:00,–†–∞–∑–º–µ—á–µ–Ω–æ –≤—Ä—É—á–Ω—É—é. –¢–∏–ø: bearish
```

## –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª:

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd complex_flag_scanner

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ CSV —Ñ–∞–π–ª–æ–≤
ls -lh neural_network/data/candles/

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
cat neural_network/data/annotations.csv

# –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
wc -l neural_network/data/annotations.csv
```

### –ß–µ—Ä–µ–∑ Python:

```python
import pandas as pd
from pathlib import Path

data_dir = Path('neural_network/data')

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
annotations = pd.read_csv(data_dir / 'annotations.csv')
print(f"–í—Å–µ–≥–æ —Ä–∞–∑–º–µ—á–µ–Ω–æ: {len(annotations)} –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤")

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
candles_dir = data_dir / 'candles'
csv_files = list(candles_dir.glob('*.csv'))
print(f"CSV —Ñ–∞–π–ª–æ–≤: {len(csv_files)}")
```

### –ß–µ—Ä–µ–∑ –¥–∞—à–±–æ—Ä–¥:

–í –¥–∞—à–±–æ—Ä–¥–µ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö", –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–µ—Ç–∫–∞–º (–±—ã—á–∏–π/–º–µ–¥–≤–µ–∂–∏–π/–Ω–µ—Ç)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 200+ –æ–±—Ä–∞–∑—Ü–æ–≤), —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏:

```python
from neural_network.data_loader import create_data_loader

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
train_loader, val_loader = create_data_loader('neural_network/data')
```

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `neural_network/data/`:

```bash
# –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤
tar -czf neural_network_data_backup_$(date +%Y%m%d).tar.gz neural_network/data/

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
cp -r neural_network/data neural_network/data_backup_$(date +%Y%m%d)
```

